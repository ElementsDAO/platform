(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[445],{62013:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[slug]",function(){return n(51209)}])},51209:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a=n(85893),r=n(67294),s=n(11163),i=n(34051),u=n.n(i),o=n(99226),p=n(27948),l=n(86886),c=n(3283),d=n.n(c),y=n(22729),m=n(38945),f=function(e){var t=e.image;return(0,a.jsx)(o.Z,{sx:{bgcolor:"background.paper",backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",width:"100%",height:400,mb:3}})},b=n(41664),v=n.n(b),h=n(15861),x=function(e){var t=e.name,n=e.description;return(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(v(),{href:"/projects",children:"Back to projects"}),(0,a.jsx)(h.Z,{fontWeight:"bold",variant:"h2",children:t}),(0,a.jsx)(h.Z,{color:"text.secondary",children:n})]})},T=n(49576),w=n(37543),g=function(e){var t=e.amount,n=e.balance,r=e.investAmount,s=e.setInvestAmount,i=e.onSubmit;return(0,a.jsxs)(o.Z,{sx:{bgcolor:"background.paper",borderRadius:"8px",p:2,boxShadow:1},children:[(0,a.jsxs)(o.Z,{display:"flex",mb:1,children:[(0,a.jsx)(h.Z,{sx:{mr:1},fontWeight:"bold",children:"Funding Goal"}),(0,a.jsxs)(h.Z,{children:[t," USD"]})]}),(0,a.jsxs)(o.Z,{display:"flex",mb:2,children:[(0,a.jsx)(h.Z,{sx:{mr:1},fontWeight:"bold",children:"Current Funding"}),(0,a.jsxs)(h.Z,{children:[n/Math.pow(10,18)," USD"]})]}),(0,a.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",mt:3},children:[(0,a.jsx)(T.Z,{onChange:function(e){return s(parseInt(e.target.value,10))},id:"my-input",label:"USD",type:"number",size:"small",placeholder:"10","aria-describedby":"USD",value:r}),(0,a.jsx)(w.Z,{sx:{ml:2},onClick:i,children:"Invest"})]}),(0,a.jsxs)(h.Z,{variant:"body2",color:"text.secondary",mt:1,children:[(0,a.jsx)("strong",{children:"Note:"})," You can get some USDT Test Tokens"," ",(0,a.jsx)("a",{href:"https://testnet.binance.org/faucet-smart",target:"_blank",rel:"noreferrer",children:"here"})]})]})},j=function(e){var t=e.investors;return(0,a.jsxs)(o.Z,{sx:{bgcolor:"background.paper",borderRadius:"8px",mt:3,p:2,boxShadow:1},children:[(0,a.jsx)(h.Z,{fontWeight:"bold",children:"Investors"}),t&&t.length>1?(0,a.jsx)("ul",{children:t.map((function(e){return(0,a.jsx)("li",{children:e},"investor-".concat(e))}))}):(0,a.jsx)(h.Z,{children:"No investors yet"})]})};function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function S(e,t,n,a,r,s,i){try{var u=e[s](i),o=u.value}catch(p){return void n(p)}u.done?t(o):Promise.resolve(o).then(a,r)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function i(e){S(s,a,r,i,u,"next",e)}function u(e){S(s,a,r,i,u,"throw",e)}i(void 0)}))}}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(o){u=!0,r=o}finally{try{i||null==n.return||n.return()}finally{if(u)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}m.P.useChainId,m.P.useAccounts,m.P.useError,m.P.useIsActivating;var _=m.P.useIsActive,I=m.P.useProvider,A=(m.P.useENSNames,n(63466)),P=n(69073),O={name:"First awesome demo project",description:"Lorem ipsum dolor sit amet",cover:"https://images.pexels.com/photos/356036/pexels-photo-356036.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},E=function(e){var t=e.address,n=_(),s=I(),i=Z(r.useState(void 0),2),c=(i[0],i[1]),m=Z(r.useState(void 0),2),b=m[0],v=m[1],h=Z(r.useState(void 0),2),T=(h[0],h[1]),w=Z(r.useState(void 0),2),M=w[0],S=w[1],E=Z(r.useState(10),2),N=E[0],C=E[1],U=Z(r.useState(void 0),2),R=U[0],D=U[1],W=Z(r.useState(O),2),F=W[0],z=W[1],J=function(){var e=k(u().mark((function e(){var n,a,r,i,o,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,a=new(d())(s.connection.url),r=new a.eth.Contract(A,t),i=new a.eth.Contract(P,y.Z.contracts.ustd),T(i),c(r),e.prev=7,e.next=10,r.methods.balance().call();case 10:return n=e.sent,v(n),e.next=14,r.methods.amount().call();case 14:n=e.sent,S(n),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),console.log("error balance",e.t0);case 21:return e.prev=21,e.next=24,r.methods.baseURI().call();case 24:n=e.sent;try{fetch(n).then((function(e){return e.json()})).then((function(e){z(e)}))}catch(u){console.log("error uri",u)}e.next=31;break;case 28:e.prev=28,e.t1=e.catch(21),console.log("error balance",e.t1);case 31:return e.prev=31,e.next=34,r.methods.totalInvestors().call();case 34:n=e.sent,o=[],p=0;case 37:if(!(p<=n)){e.next=47;break}return e.next=40,r.methods.investors(p).call();case 40:if("0x0000000000000000000000000000000000000000"!==(n=e.sent)){e.next=43;break}return e.abrupt("break",47);case 43:o.push(n);case 44:p+=1,e.next=37;break;case 47:D(o),e.next=53;break;case 50:e.prev=50,e.t2=e.catch(31),console.log("error balance",e.t2);case 53:e.next=58;break;case 55:e.prev=55,e.t3=e.catch(1),console.log("error",e.t3);case 58:case"end":return e.stop()}}),e,null,[[1,55],[7,18],[21,28],[31,50]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=k(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TODO: Use metamask provider");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.useEffect((function(){return n&&J(),null}),[n]),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(f,{image:O.cover}),(0,a.jsx)(p.Z,{maxWidth:"md",children:(0,a.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(l.ZP,{item:!0,xs:8,children:(0,a.jsx)(x,{name:F.name,description:F.description})}),(0,a.jsxs)(l.ZP,{item:!0,xs:4,children:[(0,a.jsx)(g,{amount:M,balance:b,investAmount:N,setInvestAmount:C,onSubmit:V}),(0,a.jsx)(j,{investors:R})]})]})})]})},N=n(66201),C=function(){var e=(0,s.useRouter)().query.slug;return(0,a.jsx)(N.Z,{sx:{pt:"64px"},children:(0,a.jsx)(E,{address:e})})}},63466:function(e){"use strict";e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_creator","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_timeStart","type":"uint256"},{"internalType":"uint256","name":"_timeEnd","type":"uint256"},{"internalType":"address","name":"_usdtAddress","type":"address"},{"internalType":"address","name":"_elements","type":"address"},{"internalType":"string","name":"_baseURI","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"amount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"balance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"elements","outputs":[{"internalType":"contract Elements","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"invest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"investors","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"invests","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"timeEnd","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"timeStart","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalInvestors","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"usdt","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},69073:function(e){"use strict";e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]')}},function(e){e.O(0,[561,230,576,201,774,888,179],(function(){return t=62013,e(e.s=t);var t}));var t=e.O();_N_E=t}]);