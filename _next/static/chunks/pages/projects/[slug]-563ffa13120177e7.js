(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[445],{86886:function(e,t,n){"use strict";n.d(t,{ZP:function(){return S}});var r=n(63366),a=n(87462),i=n(67294),s=n(86010),o=n(95408),u=n(39707),p=n(70005),c=n(11496),l=n(27623);var d=i.createContext(),m=n(36594);function y(e){return(0,m.Z)("MuiGrid",e)}const f=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];var x=(0,n(38959).Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...f.map((e=>`grid-xs-${e}`)),...f.map((e=>`grid-sm-${e}`)),...f.map((e=>`grid-md-${e}`)),...f.map((e=>`grid-lg-${e}`)),...f.map((e=>`grid-xl-${e}`))]),g=n(85893);const b=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function h(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function v(e,t,n={}){if(!t||!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n[`spacing-xs-${String(e)}`]||`spacing-xs-${String(e)}`];const{xs:r,sm:a,md:i,lg:s,xl:o}=e;return[Number(r)>0&&(n[`spacing-xs-${String(r)}`]||`spacing-xs-${String(r)}`),Number(a)>0&&(n[`spacing-sm-${String(a)}`]||`spacing-sm-${String(a)}`),Number(i)>0&&(n[`spacing-md-${String(i)}`]||`spacing-md-${String(i)}`),Number(s)>0&&(n[`spacing-lg-${String(s)}`]||`spacing-lg-${String(s)}`),Number(o)>0&&(n[`spacing-xl-${String(o)}`]||`spacing-xl-${String(o)}`)]}const w=(0,c.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{container:n,direction:r,item:a,lg:i,md:s,sm:o,spacing:u,wrap:p,xl:c,xs:l,zeroMinWidth:d}=e.ownerState;return[t.root,n&&t.container,a&&t.item,d&&t.zeroMinWidth,...v(u,n,t),"row"!==r&&t[`direction-xs-${String(r)}`],"wrap"!==p&&t[`wrap-xs-${String(p)}`],!1!==l&&t[`grid-xs-${String(l)}`],!1!==o&&t[`grid-sm-${String(o)}`],!1!==s&&t[`grid-md-${String(s)}`],!1!==i&&t[`grid-lg-${String(i)}`],!1!==c&&t[`grid-xl-${String(c)}`]]}})((({ownerState:e})=>(0,a.Z)({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},"wrap"!==e.wrap&&{flexWrap:e.wrap})),(function({theme:e,ownerState:t}){const n=(0,o.P$)({values:t.direction,breakpoints:e.breakpoints.values});return(0,o.k9)({theme:e},n,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${x.item}`]={maxWidth:"none"}),t}))}),(function({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let a={};if(n&&0!==r){const t=(0,o.P$)({values:r,breakpoints:e.breakpoints.values});a=(0,o.k9)({theme:e},t,(t=>{const n=e.spacing(t);return"0px"!==n?{marginTop:`-${h(n)}`,[`& > .${x.item}`]:{paddingTop:h(n)}}:{}}))}return a}),(function({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let a={};if(n&&0!==r){const t=(0,o.P$)({values:r,breakpoints:e.breakpoints.values});a=(0,o.k9)({theme:e},t,(t=>{const n=e.spacing(t);return"0px"!==n?{width:`calc(100% + ${h(n)})`,marginLeft:`-${h(n)}`,[`& > .${x.item}`]:{paddingLeft:h(n)}}:{}}))}return a}),(function({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce(((r,i)=>{let s={};if(t[i]&&(n=t[i]),!n)return r;if(!0===n)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===n)s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const u=(0,o.P$)({values:t.columns,breakpoints:e.breakpoints.values}),p="object"===typeof u?u[i]:u;if(void 0===p||null===p)return r;const c=Math.round(n/p*1e8)/1e6+"%";let l={};if(t.container&&t.item&&0!==t.columnSpacing){const n=e.spacing(t.columnSpacing);if("0px"!==n){const e=`calc(${c} + ${h(n)})`;l={flexBasis:e,maxWidth:e}}}s=(0,a.Z)({flexBasis:c,flexGrow:0,maxWidth:c},l)}return 0===e.breakpoints.values[i]?Object.assign(r,s):r[e.breakpoints.up(i)]=s,r}),{})}));var S=i.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiGrid"}),o=(0,u.Z)(n),{className:c,columns:m,columnSpacing:f,component:x="div",container:h=!1,direction:S="row",item:T=!1,lg:$=!1,md:j=!1,rowSpacing:M,sm:k=!1,spacing:Z=0,wrap:N="wrap",xl:W=!1,xs:_=!1,zeroMinWidth:I=!1}=o,O=(0,r.Z)(o,b),P=M||Z,A=f||Z,z=i.useContext(d),C=h?m||12:z,E=(0,a.Z)({},o,{columns:C,container:h,direction:S,item:T,lg:$,md:j,sm:k,rowSpacing:P,columnSpacing:A,wrap:N,xl:W,xs:_,zeroMinWidth:I}),R=(e=>{const{classes:t,container:n,direction:r,item:a,lg:i,md:s,sm:o,spacing:u,wrap:c,xl:l,xs:d,zeroMinWidth:m}=e,f={root:["root",n&&"container",a&&"item",m&&"zeroMinWidth",...v(u,n),"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==c&&`wrap-xs-${String(c)}`,!1!==d&&`grid-xs-${String(d)}`,!1!==o&&`grid-sm-${String(o)}`,!1!==s&&`grid-md-${String(s)}`,!1!==i&&`grid-lg-${String(i)}`,!1!==l&&`grid-xl-${String(l)}`]};return(0,p.Z)(f,y,t)})(E);return(0,g.jsx)(d.Provider,{value:C,children:(0,g.jsx)(w,(0,a.Z)({ownerState:E,className:(0,s.Z)(R.root,c),as:x,ref:t},O))})}))},62013:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[slug]",function(){return n(51209)}])},51209:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(85893),a=n(67294),i=n(11163),s=n(34051),o=n.n(s),u=n(99226),p=n(27948),c=n(86886),l=n(77044),d=n(3283),m=n.n(d),y=n(22729),f=function(e){var t=e.image;return(0,r.jsx)(u.Z,{sx:{bgcolor:"background.paper",backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",width:"100%",height:400,mb:3}})},x=n(41664),g=n.n(x),b=n(15861),h=function(e){var t=e.name,n=e.description;return(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(g(),{href:"/projects",children:"Back to projects"}),(0,r.jsx)(b.Z,{fontWeight:"bold",variant:"h2",children:t}),(0,r.jsx)(b.Z,{color:"text.secondary",children:n})]})},v=n(49576),w=n(37543),S=function(e){var t=e.amount,n=e.balance,a=e.investAmount,i=e.setInvestAmount,s=e.onSubmit;return(0,r.jsxs)(u.Z,{sx:{bgcolor:"background.paper",borderRadius:"8px",p:2,boxShadow:1},children:[(0,r.jsxs)(u.Z,{display:"flex",mb:1,children:[(0,r.jsx)(b.Z,{sx:{mr:1},fontWeight:"bold",children:"Funding Goal"}),(0,r.jsxs)(b.Z,{children:[t," USD"]})]}),(0,r.jsxs)(u.Z,{display:"flex",mb:2,children:[(0,r.jsx)(b.Z,{sx:{mr:1},fontWeight:"bold",children:"Current Funding"}),(0,r.jsxs)(b.Z,{children:[n/Math.pow(10,18)," USD"]})]}),(0,r.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",mt:3},children:[(0,r.jsx)(v.Z,{onChange:function(e){return i(parseInt(e.target.value,10))},id:"my-input",label:"USD",type:"number",size:"small",placeholder:"10","aria-describedby":"USD",value:a}),(0,r.jsx)(w.Z,{sx:{ml:2},onClick:s,children:"Invest"})]}),(0,r.jsxs)(b.Z,{variant:"body2",color:"text.secondary",mt:1,children:[(0,r.jsx)("strong",{children:"Note:"})," You can get some USDT Test Tokens"," ",(0,r.jsx)("a",{href:"https://testnet.binance.org/faucet-smart",target:"_blank",rel:"noreferrer",children:"here"})]})]})},T=function(e){var t=e.investors;return(0,r.jsxs)(u.Z,{sx:{bgcolor:"background.paper",borderRadius:"8px",mt:3,p:2,boxShadow:1},children:[(0,r.jsx)(b.Z,{fontWeight:"bold",children:"Investors"}),t&&t.length>1?(0,r.jsx)("ul",{children:t.map((function(e){return(0,r.jsx)("li",{children:e},"investor-".concat(e))}))}):(0,r.jsx)(b.Z,{children:"No investors yet"})]})};function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,a,i,s){try{var o=e[i](s),u=o.value}catch(p){return void n(p)}o.done?t(u):Promise.resolve(u).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){j(i,r,a,s,o,"next",e)}function o(e){j(i,r,a,s,o,"throw",e)}s(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(u){o=!0,a=u}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=n(63466),N=n(69073),W={name:"First awesome demo project",description:"Lorem ipsum dolor sit amet",cover:"https://images.pexels.com/photos/356036/pexels-photo-356036.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},_=function(e){var t=e.address,n=(0,l.Ge)(),i=n.account,s=n.library,d=n.chainId,x=k(a.useState(void 0),2),g=x[0],b=x[1],v=k(a.useState(void 0),2),w=v[0],$=v[1],j=k(a.useState(void 0),2),_=j[0],I=j[1],O=k(a.useState(void 0),2),P=O[0],A=O[1],z=k(a.useState(10),2),C=z[0],E=z[1],R=k(a.useState(void 0),2),G=R[0],U=R[1],B=k(a.useState(W),2),D=B[0],F=B[1],L=function(){var e=M(o().mark((function e(n,r){var a,i,s,u,p,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,i=new(m())(r.provider),s=new i.eth.Contract(Z,t),u=new i.eth.Contract(N,y.Z.contracts.ustd),I(u),b(s),e.prev=7,e.next=10,s.methods.balance().call();case 10:return a=e.sent,$(a),e.next=14,s.methods.amount().call();case 14:a=e.sent,A(a),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),console.log("error balance",e.t0);case 21:return e.prev=21,e.next=24,s.methods.baseURI().call();case 24:a=e.sent;try{fetch(a).then((function(e){return e.json()})).then((function(e){F(e)}))}catch(n){console.log("error uri",n)}e.next=31;break;case 28:e.prev=28,e.t1=e.catch(21),console.log("error balance",e.t1);case 31:return e.prev=31,e.next=34,s.methods.totalInvestors().call();case 34:a=e.sent,p=[],c=0;case 37:if(!(c<=a)){e.next=47;break}return e.next=40,s.methods.investors(c).call();case 40:if("0x0000000000000000000000000000000000000000"!==(a=e.sent)){e.next=43;break}return e.abrupt("break",47);case 43:p.push(a);case 44:c+=1,e.next=37;break;case 47:U(p),e.next=53;break;case 50:e.prev=50,e.t2=e.catch(31),console.log("error balance",e.t2);case 53:e.next=58;break;case 55:e.prev=55,e.t3=e.catch(1),console.log("error",e.t3);case 58:case"end":return e.stop()}}),e,null,[[1,55],[7,18],[21,28],[31,50]])})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=M(o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new(m())(s.provider),r=n.utils.toBN(C*Math.pow(10,18)),e.next=4,_.methods.approve(t,r).send({from:i});case 4:return e.next=6,g.methods.invest(r).send({from:i});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.useEffect((function(){return i&&s&&L(i,s),null}),[i,s,d]),(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(f,{image:W.cover}),(0,r.jsx)(p.Z,{maxWidth:"md",children:(0,r.jsxs)(c.ZP,{container:!0,spacing:3,children:[(0,r.jsx)(c.ZP,{item:!0,xs:8,children:(0,r.jsx)(h,{name:D.name,description:D.description})}),(0,r.jsxs)(c.ZP,{item:!0,xs:4,children:[(0,r.jsx)(S,{amount:P,balance:w,investAmount:C,setInvestAmount:E,onSubmit:J}),(0,r.jsx)(T,{investors:G})]})]})})]})},I=n(817),O=function(){var e=(0,i.useRouter)().query.slug;return(0,r.jsx)(I.Z,{sx:{pt:"64px"},children:(0,r.jsx)(_,{address:e})})}},63466:function(e){"use strict";e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_creator","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_timeStart","type":"uint256"},{"internalType":"uint256","name":"_timeEnd","type":"uint256"},{"internalType":"address","name":"_usdtAddress","type":"address"},{"internalType":"address","name":"_elements","type":"address"},{"internalType":"string","name":"_baseURI","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"amount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"balance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"elements","outputs":[{"internalType":"contract Elements","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"invest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"investors","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"invests","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"timeEnd","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"timeStart","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalInvestors","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"usdt","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},69073:function(e){"use strict";e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]')}},function(e){e.O(0,[734,589,817,774,888,179],(function(){return t=62013,e(e.s=t);var t}));var t=e.O();_N_E=t}]);